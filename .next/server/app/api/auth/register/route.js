"use strict";(()=>{var e={};e.id=3002,e.ids=[3002],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},55434:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>g,originalPathname:()=>E,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>m});var r={};a.r(r),a.d(r,{DELETE:()=>DELETE,GET:()=>GET,POST:()=>POST}),a(78976);var s=a(10884),n=a(16132),i=a(95113),u=a(64551),o=a(62421),p=a.n(o),d=a(95798);let POST=async e=>{let{name:t,email:a,password:r,role:s}=await e.json();await (0,u.Z)();let n=await p().hash(r,5),o=new i.Z({role:s,name:t,email:a,password:n});try{return await o.save(),new d.Z("User has been created",{status:201})}catch(e){return new d.Z(e.message,{status:500})}},GET=async e=>{let t=new URL(e.url),a=t.searchParams.get("email");await (0,u.Z)();let r={};a&&(r={email:a});try{let e=await i.Z.find(r);return new d.Z(JSON.stringify(e),{status:200})}catch(e){return new d.Z(e.message,{status:500})}},DELETE=async e=>{let t=e.nextUrl.searchParams.get("id");try{await (0,u.Z)();let e=await i.Z.findByIdAndDelete(t);if(!e)return new d.Z("Post not found",{status:404});return new d.Z("user has been deleted",{status:200})}catch(e){return new d.Z("Database Error",{status:500})}},l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/auth/register/route",pathname:"/api/auth/register",filename:"route",bundlePath:"app/api/auth/register/route"},resolvedPagePath:"D:\\level-2\\assignment\\event-planning\\think-best\\src\\app\\api\\auth\\register\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:w,serverHooks:h,headerHooks:g,staticGenerationBailout:m}=l,E="/api/auth/register/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[6126,4933,6449,5798,2421,2223],()=>__webpack_exec__(55434));module.exports=a})();